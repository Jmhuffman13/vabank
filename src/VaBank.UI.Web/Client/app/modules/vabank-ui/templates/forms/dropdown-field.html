<div class="form-group"
     ng-class="{disabled: disable || model.disabled, 'has-error': model.error, 'has-feedback': model.error}">

    <field-label ng-if="label"
                 input-uid="{{model.uid}}"
                 iud="{{model.uid}}-label"
                 label="{{label}}"
                 help="{{help}}"
                 required="{{model.required}}">
    </field-label>

    <div ng-class="{'input-group': iconBefore || iconAfter}">
        <span ng-if="iconBefore" class="input-group-addon"
              ng-click="onIconBeforeClick()">
            <i class="text-field-icon" ng-class="iconBefore"></i>
        </span>
        
        <ui-select ng-model="model.bindable">
            <ui-select-match placeholder="{{placeholder}}">
                <span ng-if="displayAttribute">{{$select.selected[displayAttribute]}}</span>
                <span ng-if="!displayAttribute">{{$select.selected | json}}</span>
            </ui-select-match>
            <ui-select-choices repeat="{{repeat}}"
                               refresh="refresh($select.search)">
                <div uis-transclude-append=""></div>
            </ui-select-choices>
        </ui-select>

        <span ng-if="model.error"
              class="glyphicon glyphicon-remove form-control-feedback"
              tooltip="{{model.error}}"
              tooltip-placement="right">
        </span>

        <span ng-if="iconAfter" class="input-group-addon"
              ng-click="onIconAfterClick()">
            <i class="text-field-icon" ng-class="iconAfter"></i>
        </span>
    </div>
    <span class="help-block" ng-if="help">{{help}}</span>
</div>