<section class="row offset-bottom">
    <div class="col-xs-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">{{isEdit ? 'Редактировать пользователя' : 'Добавить пользователя'}}</h3>
            </div>
            <div class="panel-body">
                <form data-form-for="userForm" data-validation-rules="validationRules" data-submit-with="save()" data-submit-complete="onSaved(data)">
                    <h5 class="text-primary">Аккаунт{{isEdit ? ' #' + userForm.userId : ''}}</h5>
                    <text-field attribute="userName" label="Логин" icon-before="glyphicon glyphicon-user"></text-field>
                    <select-field attribute="role" label="Роль" options="lookup.roles"></select-field>
                    <checkbox-field data-ng-show="isEdit" attribute="changePassword" label="Сменить пароль?"></checkbox-field>
                    <div class="row" data-ng-show="!isEdit || userForm.changePassword">
                        <div class="col-xs-6">
                            <text-field attribute="password" label="Пароль" type="password"></text-field>
                        </div>
                        <div class="col-xs-6">
                            <text-field attribute="passwordConfirmation" label="Подтверждение пароля" type="password"></text-field>
                        </div>
                    </div>
                    <h5 class="text-primary">Профиль</h5>
                    <text-field attribute="email" label="Email" icon-before="glyphicon glyphicon-globe"></text-field>
                    <div class="row">
                        <div class="col-xs-6">
                            <text-field attribute="firstName" label="Имя"></text-field>
                        </div>
                        <div class="col-xs-6">
                            <text-field attribute="lastName" label="Фамилия"></text-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6">
                            <text-field attribute="phoneNumber" label="Мобильный телефон" icon-before="glyphicon glyphicon-phone"></text-field>
                            <checkbox-field attribute="phoneNumberConfirmed" label="Подтвержден"></checkbox-field>
                        </div>
                        <div class="col-xs-6">
                            <p><b>Настройки СМС</b></p>
                            <checkbox-field attribute="smsNotificationEnabled" label="Смс-уведомления"></checkbox-field>
                            <checkbox-field attribute="smsConfirmationEnabled" label="Смс-подтверждение"></checkbox-field>
                        </div>
                    </div>
                    <text-field attribute="secretPhrase" label="Секретная фраза" multiline="" placeholder="Напишите секретную фразу..."></text-field>
                    <div data-ng-show="userForm.role == 'Customer'">
                        <h5 class="text-primary">Платежная информация</h5>
                        <text-field attribute="fullName" label="ФИО"></text-field>
                        <text-field attribute="address" label="Домашний адрес" multiline="" placeholder="Напишите домашний адрес..."></text-field>
                    </div>
                    <submit-button button-class="btn btn-primary" label="{{!isEdit ? 'Добавить' : 'Сохранить'}}"></submit-button>
                </form>
            </div>
        </div>
    </div>
</section>
